{"version":3,"sources":["webpack:///webpack/bootstrap e3bab1ba05568c63adf1","webpack:///./app/js/index.js","webpack:///./app/js/htmlTemplate.js","webpack:///./app/js/googleAPI.js"],"names":["getHistory","e","preventDefault","root","document","getElementById","clientID","authorize","history","pushState","innerHTML","getContent","file","window","location","addEventListener","target","currentTarget","data","getAttribute","url","title","stopPropagation","character","state","defaultTitle","main","googleAPI","uberServerToken","headers","Headers","append","submit","autocompleteFrom","autocompleteTo","locationA","locationB","startLatitude","startLongtitude","endLatitude","endLongtitude","est","createElement","event","fetch","then","response","status","console","log","json","i","estimate","appendChild","catch","err","directionsService","google","maps","DirectionsService","directionsDisplay","DirectionsRenderer","map","Map","zoom","center","lat","lng","setMap","onChangeHandler","calculateAndDisplayRoute","places","Autocomplete","addListener","place","getPlace","formatted_address","geometry","route","origin","destination","travelMode","setDirections","alert"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;AAEA;;AACA;;;;;;AAGA,SAASA,UAAT,CAAoBC,CAApB,EAAuB;AACrBA,GAAEC,cAAF;AACA,KAAIC,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAX;;AAGA,KAAMC,WAAW,kCAAjB;AACA,KAAMC,qEAAmED,QAAnE,gEAAN;;AAGAE,SAAQC,SAAR,CAAkB,MAAlB,EAA0B,IAA1B,EAAgC,MAAhC;AACAN,MAAKO,SAAL;AACA;;AAGA,UAASC,UAAT,CAAoBC,IAApB,EAAyB;AAC1B,MAAIA,SAAS,MAAb,EAAqB;AACnBT,QAAKO,SAAL;AACA;AACD,GAHD,MAGO,IAAKE,SAAS,OAAd,EAAuB;AAC5BC,UAAOC,QAAP,GAAkBP,SAAlB;AACD;AACC;;AAGDM,QAAOE,gBAAP,CAAyB,OAAzB,EAAkC,UAASd,CAAT,EAAW;AAC9C,MAAIA,EAAEe,MAAF,IAAYf,EAAEgB,aAAlB,EAAiC;AAC/BhB,KAAEC,cAAF;AACA,OAAIgB,OAAOjB,EAAEe,MAAF,CAASG,YAAT,CAAsB,MAAtB,CAAX;AACA,OAAIC,MAAMF,IAAV;AACAV,WAAQC,SAAR,CAAkBS,IAAlB,EAAwB,IAAxB,EAA8BE,GAA9B;AACAT,cAAWS,GAAX;AACAhB,YAASiB,KAAT,GAAiB,YAAYH,IAA7B;AACD;AACDjB,IAAEqB,eAAF;AACE,EAVD,EAUG,KAVH;;AAYAT,QAAOE,gBAAP,CAAwB,UAAxB,EAAoC,UAASd,CAAT,EAAW;AAChD,MAAIsB,YAAYtB,EAAEuB,KAAlB;;AAEA,MAAID,aAAa,IAAjB,EAAuB;AACrBnB,YAASiB,KAAT,GAAiBI,YAAjB;AACD,GAFD,MAEO;AACLd,cAAWY,SAAX;AACAnB,YAASiB,KAAT,GAAiB,mBAAmBE,SAApC;AACD;AACC,EATD;AAWD;;AAGDV,OAAOE,gBAAP,CAAwB,MAAxB,EAAgCf,UAAhC,E;;;;;;;;;;;;;ACxDA;;;;;;;;;;;;;;;AAeA,IAAM0B,imBAAN;;kBAYeA,I;;;;;;;;;;;;AC3BR,IAAIC,gCAAY,SAAZA,SAAY,GAAY;;AAGjC,MAAMC,kBAAkB,0CAAxB,CAHiC,CAGmC;AACpE;;AAEA,MAAMC,UAAU,IAAIC,OAAJ,EAAhB;AACAD,UAAQE,MAAR,CAAe,eAAf,aAAyCH,eAAzC;AACAC,UAAQE,MAAR,CAAe,iBAAf,EAAkC,OAAlC;AACAF,UAAQE,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACA;AACA;AACA;AACA;;AAEA,MAAIC,SAAS5B,SAASC,cAAT,CAAwB,QAAxB,CAAb;;AAEA,MAAI4B,yBAAJ;AACA,MAAIC,uBAAJ;;AAEA,MAAIC,kBAAJ;AACA,MAAIC,kBAAJ;;AAEA,MAAIC,sBAAJ;AACA,MAAIC,wBAAJ;AACA,MAAIC,oBAAJ;AACA,MAAIC,sBAAJ;;AAEA,MAAIC,MAAMrC,SAASsC,aAAT,CAAuB,KAAvB,CAAV;;AAEAV,SAAOjB,gBAAP,CAAyB,OAAzB,EAAkC,UAAU4B,KAAV,EAAiB;;AAEpD,QAAGA,KAAH,EAAS;AACPA,YAAMzC,cAAN;;AAEA0C,YAAM,8DAA8DP,aAA9D,GACP,mBADO,GACeC,eADf,GAEP,gBAFO,GAEYC,WAFZ,GAGP,iBAHO,GAGaC,aAHnB,EAID,EAACX,gBAAD,EAJC,EAKEgB,IALF,CAMC,UAASC,QAAT,EAAmB;;AAEpB,YAAIA,SAASC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BC,kBAAQC,GAAR,CAAY,kDACbH,SAASC,MADR;AAEA;AACD;AACDD,iBAASI,IAAT,GAAgBL,IAAhB,CAAqB,UAAS3B,IAAT,EAAe;;AAElC,eAAI,IAAIiC,CAAR,IAAajC,IAAb,EAAkB;AACnBuB,gBAAI/B,SAAJ,GAAgBQ,KAAKiC,CAAL,EAAQ,CAAR,EAAWC,QAA3B;AACA,gBAAIA,WAAWhD,SAASC,cAAT,CAAwB,UAAxB,CAAf;AACA+C,qBAASC,WAAT,CAAqBZ,GAArB;AACE;AACF,SAPD;AAQE,OArBF,EAsBCa,KAtBD,CAsBO,UAASC,GAAT,EAAc;AACpBP,gBAAQC,GAAR,CAAY,iBAAZ,EAA+BM,GAA/B;AACD,OAxBA;AAyBD;AACC,GA/BD,EA+BG,KA/BH;;AAmCA;AACA,MAAIC,oBAAoB,IAAIC,OAAOC,IAAP,CAAYC,iBAAhB,EAAxB;AACA,MAAIC,oBAAoB,IAAIH,OAAOC,IAAP,CAAYG,kBAAhB,EAAxB;AACA,MAAIC,MAAM,IAAIL,OAAOC,IAAP,CAAYK,GAAhB,CAAoB3D,SAASC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC/D2D,UAAM,EADyD;AAE/DC,YAAQ,EAACC,KAAK,SAAN,EAAiBC,KAAK,SAAtB;AAFuD,GAApD,CAAV;AAIAP,oBAAkBQ,MAAlB,CAAyBN,GAAzB;;AAEA,MAAIO,kBAAkB,SAAlBA,eAAkB,GAAW;;AAElCC,6BAAyBd,iBAAzB,EAA4CI,iBAA5C;AACE,GAHD;AAIA5B,SAAOjB,gBAAP,CAAwB,OAAxB,EAAiCsD,eAAjC;;AAGA;AACApC,qBAAmB,IAAIwB,OAAOC,IAAP,CAAYa,MAAZ,CAAmBC,YAAvB,CAAoCpE,SAASC,cAAT,CAAwB,MAAxB,CAApC,CAAnB;AACA6B,mBAAiB,IAAIuB,OAAOC,IAAP,CAAYa,MAAZ,CAAmBC,YAAvB,CAAoCpE,SAASC,cAAT,CAAwB,IAAxB,CAApC,CAAjB;;AAGAoD,SAAOC,IAAP,CAAYf,KAAZ,CAAkB8B,WAAlB,CAA8BxC,gBAA9B,EAAgD,eAAhD,EAAiE,YAAY;;AAE9E,QAAIyC,QAAQzC,iBAAiB0C,QAAjB,EAAZ;AACAxC,gBAAYuC,MAAME,iBAAlB;AACAvC,oBAAgB,CAACqC,MAAMG,QAAN,CAAe/D,QAAf,CAAwBoD,GAAxB,EAAjB;AACA5B,sBAAkB,CAACoC,MAAMG,QAAN,CAAe/D,QAAf,CAAwBqD,GAAxB,EAAnB;AACA/D,aAASC,cAAT,CAAwB,UAAxB,EAAoCK,SAApC,GAAgD,aAAayB,SAA7D;AAEE,GARD;;AAUAsB,SAAOC,IAAP,CAAYf,KAAZ,CAAkB8B,WAAlB,CAA8BvC,cAA9B,EAA8C,eAA9C,EAA+D,YAAY;;AAE5E,QAAIwC,QAAQxC,eAAeyC,QAAf,EAAZ;AACAvC,gBAAYsC,MAAME,iBAAlB;AACArC,kBAAc,CAACmC,MAAMG,QAAN,CAAe/D,QAAf,CAAwBoD,GAAxB,EAAf;AACA1B,oBAAgB,CAACkC,MAAMG,QAAN,CAAe/D,QAAf,CAAwBqD,GAAxB,EAAjB;AACA/D,aAASC,cAAT,CAAwB,QAAxB,EAAkCK,SAAlC,GAA8C,kBAAkB0B,SAAhE;AACE,GAPD;;AAUA,WAASkC,wBAAT,CAAkCd,iBAAlC,EAAqDI,iBAArD,EAAwE;AACzEJ,sBAAkBsB,KAAlB,CAAwB;AACtBC,cAAQ5C,SADc;AAEtB6C,mBAAa5C,SAFS;AAGtB6C,kBAAY;AAHU,KAAxB,EAIG,UAAUnC,QAAV,EAAoBC,MAApB,EAA4B;AAC7B,UAAIA,WAAW,IAAf,EAAqB;AACtBa,0BAAkBsB,aAAlB,CAAgCpC,QAAhC;AACE,OAFD,MAEO;AACRjC,eAAOsE,KAAP,CAAa,sCAAsCpC,MAAnD;AACE;AACF,KAVD;AAWE;AAEF,CAxHM,C","file":"./app/js/build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e3bab1ba05568c63adf1","'use strict';\n\nimport { googleAPI } from './googleAPI';\nimport main from './htmlTemplate';\n\n\nfunction getHistory(e) {\n  e.preventDefault();\n  let root = document.getElementById('root');\n  \n  \n  const clientID = '_46e_moJOVW0GQNkZDWSFNlHJcq_cYjP';\n  const authorize= `https://login.uber.com/oauth/v2/authorize?client_id=${ clientID }&response_type=code&redirect_uri=http://127.0.0.1:8080/main`;\n  \n  \n  history.pushState('main', null, 'main');\n  root.innerHTML = main;\n  googleAPI();\n\n  \n  function getContent(file){\n\tif( file === 'main' ){\n\t  root.innerHTML = main;\n\t  googleAPI();\n\t} else if ( file === 'login' ){\n\t  window.location = authorize;\n\t}\n  }\n  \n  \n  window.addEventListener( 'click', function(e){\n\tif( e.target != e.currentTarget ){\n\t  e.preventDefault();\n\t  let data = e.target.getAttribute('href');\n\t  let url = data;\n\t  history.pushState(data, null, url);\n\t  getContent(url);\n\t  document.title = \"uber | \" + data;\n\t}\n\te.stopPropagation();\n  }, false );\n  \n  window.addEventListener('popstate', function(e){\n\tlet character = e.state;\n\t\n\tif (character == null) {\n\t  document.title = defaultTitle;\n\t} else {\n\t  getContent(character);\n\t  document.title = \"Ghostbuster | \" + character;\n\t}\n  })\n\n};\n\n\nwindow.addEventListener('load', getHistory);\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/index.js","/*const htmlElement = (handler) => {\n  return `<div class=\"container\">\n            \t\t\t\t<form id=\"form\" name=\"name\" action=\"#\">\n        \t\t\t\t\t\t<input id=\"from\" type=\"text\" name=\"from\" placeholder=\"From\"/>\n       \t\t\t\t\t\t\t<input id=\"to\" type=\"text\" name=\"to\" placeholder=\"To\"/>\n        \t\t\t\t\t\t<button id=\"submit\" type=\"submit\" name=\"submit\" onclick=\"${handler}()\">submit</button>\n       \t\t\t\t\t\t\t<label id=\"rideFrom\">origin</label>\n        \t\t\t\t\t\t<label id=\"rideTo\">destination</label>\n        \t\t\t\t\t\t<div id=\"estimate\"><span>Cost: </span></div>\n    \t\t\t\t\t\t</form>\n        \t\t\t   </div>`;\n};\n\nexport default htmlElement;*/\n\nconst main = `<div class=\"container\">\n            \t\t\t\t<form id=\"form\" name=\"name\" action=\"#\">\n        \t\t\t\t\t\t<input id=\"from\" type=\"text\" name=\"from\" placeholder=\"From\"/>\n       \t\t\t\t\t\t\t<input id=\"to\" type=\"text\" name=\"to\" placeholder=\"To\"/>\n        \t\t\t\t\t\t<button id=\"submit\" type=\"submit\" name=\"submit\">submit</button>\n       \t\t\t\t\t\t\t<label id=\"rideFrom\">origin</label>\n        \t\t\t\t\t\t<label id=\"rideTo\">destination</label>\n        \t\t\t\t\t\t<div id=\"estimate\"><span>Cost: </span></div>\n    \t\t\t\t\t\t</form>\n        \t\t\t   </div>`;\n\n\nexport default main;\n\n\n// WEBPACK FOOTER //\n// ./app/js/htmlTemplate.js","export let googleAPI = function () {\n  \n  \n  const uberServerToken = 'prjYeXvwL9X_cnjwhb84nbHGWKVIcoLdEdKEBAN_'; //Zahar\n  //const uberServerToken = 'kFh83ZNIJyw8MRf9PozqOLNBnZRcUVn9wiksEE8e';\n  \n  const headers = new Headers();\n  headers.append('Authorization', `Token ${uberServerToken}`);\n  headers.append('Accept-Language', 'en_US');\n  headers.append('Content-Type', 'application/json');\n  // headers.append('Access-Control-Allow-Origin', '*');\n  // headers.append('Access-Control-Allow-Credentials', 'true');\n  // headers.append('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,PATCH,OPTIONS');\n  // headers.append('Access-Control-Allow-Headers', 'Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers');\n  \n  let submit = document.getElementById(\"submit\");\n  \n  let autocompleteFrom;\n  let autocompleteTo;\n  \n  let locationA;\n  let locationB;\n  \n  let startLatitude;\n  let startLongtitude;\n  let endLatitude;\n  let endLongtitude;\n  \n  let est = document.createElement('DIV');\n  \n  submit.addEventListener( \"click\", function (event) {\n  \n\tif(event){\n\t  event.preventDefault();\n\t  \n\t  fetch('https://api.uber.com/v1.2/estimates/price?start_latitude=' + startLatitude +\n\t\t'&start_longitude=' + startLongtitude +\n\t\t'&end_latitude=' + endLatitude +\n\t\t'&end_longitude=' + endLongtitude,\n\t\t{headers}\n\t  ).then(\n\t\t  function(response) {\n\t\t  \n\t\t\tif (response.status !== 200) {\n\t\t\t  console.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\tresponse.status);\n\t\t\t  return;\n\t\t\t}\n\t\t\tresponse.json().then(function(data) {\n\t\t\t  \n\t\t\t  for(let i in data){\n\t\t\t\test.innerHTML = data[i][0].estimate;\n\t\t\t\tlet estimate = document.getElementById('estimate');\n\t\t\t\testimate.appendChild(est);\n\t\t\t  }\n\t\t\t});\n\t\t  }\n\t\t).catch(function(err) {\n\t\t  console.log('Fetch Error :-S', err);\n\t\t});\n\t}\n  }, false);\n  \n  \n  \n  //init Map\n  let directionsService = new google.maps.DirectionsService;\n  let directionsDisplay = new google.maps.DirectionsRenderer;\n  let map = new google.maps.Map(document.getElementById('map'), {\n\tzoom: 14,\n\tcenter: {lat: 50.449831, lng: 30.523480}\n  });\n  directionsDisplay.setMap(map);\n  \n  let onChangeHandler = function() {\n\t\n\tcalculateAndDisplayRoute(directionsService, directionsDisplay);\n  };\n  submit.addEventListener('click', onChangeHandler);\n  \n  \n  //init autocomplete\n  autocompleteFrom = new google.maps.places.Autocomplete(document.getElementById(\"from\"));\n  autocompleteTo = new google.maps.places.Autocomplete(document.getElementById(\"to\"));\n  \n  \n  google.maps.event.addListener(autocompleteFrom, 'place_changed', function () {\n\t\n\tlet place = autocompleteFrom.getPlace();\n\tlocationA = place.formatted_address;\n\tstartLatitude = +place.geometry.location.lat();\n\tstartLongtitude = +place.geometry.location.lng();\n\tdocument.getElementById('rideFrom').innerHTML = 'Origin: ' + locationA;\n\t\n  });\n  \n  google.maps.event.addListener(autocompleteTo, 'place_changed', function () {\n\t\n\tlet place = autocompleteTo.getPlace();\n\tlocationB = place.formatted_address;\n\tendLatitude = +place.geometry.location.lat();\n\tendLongtitude = +place.geometry.location.lng();\n\tdocument.getElementById('rideTo').innerHTML = 'Destination: ' + locationB;\n  });\n  \n  \n  function calculateAndDisplayRoute(directionsService, directionsDisplay) {\n\tdirectionsService.route({\n\t  origin: locationA,\n\t  destination: locationB,\n\t  travelMode: 'DRIVING'\n\t}, function (response, status) {\n\t  if (status === 'OK') {\n\t\tdirectionsDisplay.setDirections(response);\n\t  } else {\n\t\twindow.alert('Directions request failed due to ' + status);\n\t  }\n\t});\n  }\n  \n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/googleAPI.js"],"sourceRoot":""}